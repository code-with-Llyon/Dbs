{% extends "base.html" %} {% block content %}

<h2 class="mb-3">Document Checklist</h2>

<div class="row g-3">
  {# required_docs is a LIST of items like: {"doc_type": "passport", "uploaded":
  True/False, "info": {...}} #} {% for item in required_docs %}
  <div class="col-md-4">
    <div class="card h-100 shadow-sm">
      <div class="card-body">
        <h5 class="card-title">
          {{ item.doc_type.replace('_', ' ').title() }}
        </h5>

        {% if item.uploaded %}
        <p class="text-success fw-bold">‚úÖ Uploaded</p>
        {% if item.info %}
        <p class="small text-muted">File: {{ item.info.filename }}</p>
        {% if item.info.expiry %}
        <p class="small">Expiry: {{ item.info.expiry }}</p>
        {% endif %} {% endif %} {% else %}
        <p class="text-danger fw-bold">‚ùå Not uploaded</p>
        {% endif %}
      </div>
    </div>
  </div>
  {% endfor %}
</div>

<div class="mt-4">
  {# all_ready is already calculated in Python: all_ready = bool(required_docs)
  and all(item["uploaded"] for item in status_list) #} {% if all_ready %}
  <div class="alert alert-success">
    üéâ All required documents are ready for your appointment.
  </div>
  {% else %}
  <div class="alert alert-warning">
    ‚ö†Ô∏è Please upload all required documents before booking your appointment.
  </div>
  {% endif %}
</div>

{% endblock %}
